configure {
    port 1/1/c1 {
        admin-state enable
        connector {
            breakout c1-100g
        }
    }
    port 1/1/c1/1 {
        admin-state enable
        description "$PEERING_LAN_NAME-port"
        ethernet {
            mode network
        }
    }

    port 1/1/c2 {
        admin-state enable
        connector {
            breakout c1-100g
        }
    }
    port 1/1/c2/1 {
        admin-state enable
        description "$CLIENT_LAN_NAME-port"
        ethernet {
            mode network
        }
    }

    port 1/1/c3 {
        admin-state enable
        connector {
            breakout c1-100g
        }
    }
    port 1/1/c3/1 {
        admin-state enable
        description "$DUMMY_LAN_NAME-port"
        ethernet {
            mode network
        }
    }

    policy-options {
        prefix-list "$CLIENT_LAN_NAME-prefix-list" {
            prefix $CLIENT_LAN_NETWORK/$CLIENT_LAN_PREFIX_LENGTH type exact {
            }
        }

        policy-statement "accept-$CLIENT_LAN_NAME-policy" {
            entry 1 {
                from {
                    prefix-list "$CLIENT_LAN_NAME-prefix-list"
                }
                action {
                    action-type accept
                }
            }
        }
        policy-statement "default-accept-policy" {
            default-action {
                action-type accept
            }
        }
    }

    router "Base" {
        autonomous-system $ASN
        router-id $ROUTER_LOOPBACK_ADDRESS

        interface "$ROUTER_LOOPBACK_NAME-interface" {
            loopback
            ipv4 {
                primary {
                    address $ROUTER_LOOPBACK_ADDRESS
                    prefix-length $ROUTER_LOOPBACK_PREFIX_LENGTH
                }
            }
        }
        interface "$PEERING_LAN_NAME-interface" {
            port 1/1/c1/1
            ipv6 {
                address $PEERING_LAN_ADDRESS {
                    prefix-length $PEERING_LAN_PREFIX_LENGTH
                }
                forward-ipv4-packets true
            }
        }
        interface "$CLIENT_LAN_NAME-interface" {
            port 1/1/c2/1
            ipv4 {
                primary {
                    address $CLIENT_LAN_ADDRESS
                    prefix-length $CLIENT_LAN_PREFIX_LENGTH
                }
            }
        }
        interface "$DUMMY_LAN_NAME-interface" {
            port 1/1/c3/1
            ipv4 {
                primary {
                    address $DUMMY_LAN_ADDRESS
                    prefix-length $DUMMY_LAN_PREFIX_LENGTH
                }
            }
        }

        bgp {
            export {
                policy "accept-$CLIENT_LAN_NAME-policy"
            }
            import {
                policy "default-accept-policy"
            }

            advertise-ipv6-next-hops {
                ipv4 true
            }
            extended-nh-encoding {
                ipv4 true
            }

            group "$PEERING_LAN_NAME-group" {
            }
            $NEIGHBORS
        }
    }
}