configure {
    policy-options {
        prefix-list "$CLIENT_LAN_NAME_prefix_list" {
            prefix $CLIENT_LAN_NETWORK/$CLIENT_LAN_PREFIX_LENGTH type exact {
            }
        }
        policy-statement "accept_$CLIENT_LAN_NAME_policy_statement" {
            entry 10 {
                from {
                    prefix-list ["$CLIENT_LAN_NAME_prefix_list"]
                }
                action {
                    action-type accept
                }
            }
            default-action {
                action-type reject
            }
        }
        policy-statement "default_accept_policy_statement" {
            default-action {
                action-type accept
            }
        }
    }
    port 1/1/c1 {
        admin-state enable
        connector {
            breakout c1-100g
        }
    }
    port 1/1/c1/1 {
        admin-state enable
        description "$PEERING_LAN_NAME_port"
    }
    port 1/1/c2 {
        admin-state enable
        connector {
            breakout c1-100g
        }
    }
    port 1/1/c2/1 {
        admin-state enable
        description "$CLIENT_LAN_NAME_port"
    }
    router "Base" {
        autonomous-system $ASN
        router-id $ROUTER_LOOPBACK_ADDRESS
        interface "$CLIENT_LAN_NAME_interface" {
            port 1/1/c2/1
            ipv4 {
                primary {
                    address $CLIENT_LAN_ADDRESS
                    prefix-length $CLIENT_LAN_PREFIX_LENGTH
                }
            }
        }
        interface "$ROUTER_LOOPBACK_NAME_interface" {
            loopback
            ipv4 {
                primary {
                    address $ROUTER_LOOPBACK_ADDRESS
                    prefix-length $ROUTER_LOOPBACK_PREFIX_LENGTH
                }
            }
        }
        interface "$PEERING_LAN_NAME_interface" {
            port 1/1/c1/1
            ipv6 {
                forward-ipv4-packets true
                address $PEERING_LAN_ADDRESS {
                    prefix-length $PEERING_LAN_PREFIX_LENGTH
                }
            }
        }
        bgp {
            import {
                policy ["default_accept_policy_statement"]
            }
            export {
                policy ["accept_$CLIENT_LAN_NAME_policy_statement"]
            }
            extended-nh-encoding {
                ipv4 true
            }
            advertise-ipv6-next-hops {
                ipv4 true
            }
            group "$PEERING_LAN_NAME_group" {
            }
$NEIGHBORS
        }
    }
}